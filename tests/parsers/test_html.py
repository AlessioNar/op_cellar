import unittest
import os
from ulit.parsers.html import HTMLParser

DATA_DIR = os.path.join(os.path.dirname(__file__), "..\\data\\html")
file_path = os.path.join(DATA_DIR, "c008bcb6-e7ec-11ee-9ea8-01aa75ed71a1.0006.03\\DOC_1.html")


class TestHTMLParser(unittest.TestCase):
    def setUp(self):
        self.maxDiff = None  # Allow full diff if needed
        self.parser = HTMLParser()        
        

        # Ensure test file exists
        if not os.path.exists(file_path):
            raise FileNotFoundError(f"Test file not found at {file_path}")
        self.parser.get_root(file_path)
    
    def test_get_root(self):
        """Test parsing and root element retrieval from the Akoma Ntoso file."""
        self.assertTrue(os.path.exists(file_path), f"Test file not found at {file_path}")
        self.assertIsNotNone(self.parser.root, "Root element should not be None")        
        
    def test_get_articles(self):
        """Test parsing articles from an HTML file."""
        self.parser.get_articles()
        # Expected structure of parsed articles
        expected = {'art_1': 'Article1 Subject matter and scope 1.This Regulation lays down measures that promote the cross-border interoperability of trans-European digital public services, thus contributing to the interoperability of the underlying network and information systems by establishing common rules and a governance framework. 2.This Regulation applies to Union entities and public sector bodies that regulate, provide, manage or implement trans-European digital public services. 3.This Regulation applies without prejudice to the competence of Member States to define what constitutes public services or to their ability to establish procedural rules for or to provide, manage or implement those services. 4.This Regulation is without prejudice to the competence of Member States with regard to their activities concerning public security, defence and national security. 5.This Regulation does not entail the supply of information the disclosure of which would be contrary to the essential interests of Member States public security, defence or national security.',
            'art_2': 'Article2 Definitions For the purposes of this Regulation, the following definitions apply: (1) cross-border interoperability means the ability of Union entities and public sector bodies of Member States to interact with each other across borders by sharing data, information and knowledge through digital processes in line with the legal, organisational, semantic and technical requirements related to such cross-border interaction; (2) trans-European digital public services means digital services provided by Union entities or public sector bodies to one another or to natural or legal persons in the Union, and requiring interaction across Member State borders, among Union entities or between Union entities and public sector bodies, by means of their network and information systems; (3) network and information system means a network and information system as defined in Article6, point (1), of Directive (EU)2022/2555 of the European Parliament and of the Council(14); (4) interoperability solution means a reusable asset concerning legal, organisational, semantic or technical requirements to enable cross-border interoperability, such as conceptual frameworks, guidelines, reference architectures, technical specifications, standards, services and applications, as well as documented technical components, such as source code; (5) Union entities means the Union institutions, bodies, offices and agencies set up by, or on the basis of, the TEU, the Treaty on the functioning of European Union or the Treaty establishing the European Atomic Energy Community; (6) public sector body means a public sector body as defined in Article2, point (1), of Directive (EU)2019/1024 of the European Parliament and of the Council(15); (7) data means data as defined in Article2, point (1), of Regulation (EU)2022/868 of the European Parliament and of the Council(16); (8) machine-readable format means a machine-readable format as defined in Article2, point (13), of Directive (EU)2019/1024; (9) GovTech means technology-based cooperation between public and private sector actors supporting public sector digital transformation; (10) standard means a standard as defined in Article2, point (1), of Regulation (EU) No1025/2012 of the European Parliament and of the Council(17); (11) ICT technical specification means ICT technical specification as defined in Article2, point (5), of Regulation (EU) No1025/2012; (12) open source licence means a licence whereby the reuse, redistribution and modification of software is permitted for all uses on the basis of a unilateral declaration by the right holder that may be subject to certain conditions, and where the source code of the software is made available to users indiscriminately; (13) highest level of management means a manager, management or coordination and oversight body at the most senior administrative level, taking account of the high-level governance arrangements in each Union entity; (14) interoperability regulatory sandbox means a controlled environment set up by a Union entity or a public sector body for the development, training, testing and validation of innovative interoperability solutions, where appropriate in real world conditions, supporting the cross-border interoperability of trans-European digital public services for a limited period of time under regulatory supervision; (15) binding requirement means an obligation, prohibition, condition, criterion or limit of a legal, organisational, semantic or technical nature, which is set by a Union entity or a public sector body concerning one or more trans-European digital public services and which has an effect on cross-border interoperability.',
            'art_3': 'Article3 Interoperability assessment 1.Before taking a decision on new or substantially modified binding requirements, a Union entity or a public sector body shall carry out an interoperability assessment. Where, in relation to binding requirements, an interoperability assessment has already been carried out or where binding requirements are implemented by solutions provided by Union entities, the public sector body concerned shall not be required to carry out a further interoperability assessment in relation to those requirements. A single interoperability assessment may be carried out to address a set of binding requirements. The Union entity or public sector body concerned may also carry out the interoperability assessment in other cases. 2.An interoperability assessment shall, in an appropriate manner, identify and assess the following: (a) the effects of the binding requirements on cross-border interoperability, using the European Interoperability Framework referred to in Article6as a support tool; (b) the stakeholders to which the binding requirements are relevant; (c) the Interoperable Europe solutions referred to in Article7 that support the implementation of the binding requirements. The Union entity or public sector body concerned shall publish, in a machine-readable format facilitating automated translation, a report presenting the outcome of the interoperability assessment, including the items listed in the Annex, on an official website. It shall share that report electronically with the Interoperable Europe Board established pursuant to Article15 (the Board). The requirements laid down in this paragraph shall not restrict existing Member States rules on access to documents. The publication of that report shall not compromise intellectual property rights or trade secrets, public order or security. 3.Union entities and public sector bodies may decide which body is to provide the necessary support to carry out the interoperability assessment. The Commission shall provide technical tools to support the interoperability assessment, including an online tool to facilitate the completion of the report and its publication on the Interoperable Europe portal referred to in Article8. 4.The Union entity or public sector body concerned shall consult recipients of the services directly affected, including citizens, or their representatives. That consultation shall be without prejudice to the protection of commercial or public interests or the security of such services. 5.By 12January 2025, the Board shall adopt the guidelines referred to in Article15(5), point (a).',
            'art_4': 'Article4 Share and reuse of interoperability solutions between Union entities and public sector bodies 1.A Union entity or public sector body shall make available to any other Union entity or public sector body that requests it an interoperability solution supporting a trans-European digital public service, including the technical documentation, and, where applicable, the version history, documented source code and the references to open standards or technical specifications used. The obligation to share shall not apply to any of the following interoperability solutions, namely those: (a) that support processes which fall outside the scope of the public task of the Union entity or public sector body concerned as defined by law or by other binding rules, or, in the absence of such rules, as defined in accordance with common administrative practice in the Union entities or Member State in question, provided that the scope of the public tasks is transparent and subject to review; (b) for which third parties hold intellectual property rights that restrict the possibility of sharing the solution for reuse; (c) access to which is excluded or restricted on grounds of: (i) sensitive critical infrastructure protection related information as defined in Article2, point (d), of Council Directive2008/114/EC(18); (ii) the protection of defence interests or public security, including national critical infrastructure. 2.To enable the reusing entity to manage the interoperability solution autonomously, the sharing entity shall specify any conditions that apply to the reuse of the solution, including any guarantees provided to the reusing entity with regard to cooperation, support and maintenance. Such conditions may include the exclusion of liability of the sharing entity in the case of misuse of the interoperability solution by the reusing entity. Before adopting the interoperability solution, the reusing entity shall, upon request, provide to the sharing entity an assessment of the solution covering its ability to manage autonomously the cybersecurity and the evolution of the reused interoperability solution. 3.The obligation in paragraph 1 may be fulfilled by publishing the relevant content on the Interoperable Europe portal or a portal, catalogue or repository connected to the Interoperable Europe portal. In that case, paragraph 2 shall not apply to the sharing entity. At the request of the sharing entity, the Commission shall publish the relevant content on the Interoperable Europe portal. 4.A Union entity or public sector body, or a third party reusing an interoperability solution, may adapt it to its own needs, unless intellectual property rights held by a third party restrict the adaptation of the interoperability solution. If the interoperability solution is made public pursuant to paragraph 3, the adapted interoperability solution shall be made public in the same way. 5.The sharing and reusing entities may conclude an agreement on sharing the costs for future developments of the interoperability solution. 6.When deciding on the implementation of interoperability solutions, Union entities and public sector bodies shall prioritise the implementation of interoperability solutions that do not carry restrictive licensing terms, such as open source solutions, where such interoperability solutions are equivalent in terms of functionalities, total cost, user-centricity, cybersecurity or other relevant objective criteria. The Commission shall provide support in identifying such interoperability solutions, as provided for in Article9. 7.The Board shall adopt guidelines on the sharing of interoperability solutions.',
            'art_5': 'Article5 General principles 1.The Commission shall publish Interoperable Europe solutions and the EIF on the Interoperable Europe portal, by electronic means, in formats that are open, machine-readable, accessible for persons with disabilities in accordance with Directives (EU)2016/2102(19) and (EU)2019/882(20) of the European Parliament and of the Council, findable and re-usable, if applicable, together with their documented source code and metadata. Machine-translated versions of the Interoperable Europe solutions shall be published on the Interoperable Europe portal in all the official languages of the Union institutions. 2.The Board shall monitor the overall coherence of the recommended interoperability solutions, and propose measures to ensure, where appropriate, their compatibility with other interoperability solutions that share a common purpose, while supporting, where relevant, their complementarity with or transition to new technologies.',
            'art_6': 'Article6 European Interoperability Framework and specialised interoperability frameworks 1.The Board shall develop a European Interoperability Framework (EIF). It shall submit the EIF to the Commission for adoption. In the event that the Commission adopts the EIF, it shall publish the EIF in the Official Journal of the European Union. 2.The EIF shall provide a model and a set of recommendations for legal, organisational, semantic and technical interoperability as well as for its governance, that are addressed to all entities falling within the scope of this Regulation for the purpose of facilitating interactions among each other through their network and information systems. The EIF shall be taken into account in the interoperability assessment referred to in Article3 and in the Annex. 3.The Commission may, after consulting the Board, adopt other interoperability frameworks (specialised interoperability frameworks) targeting the needs of specific sectors or administrative levels. Specialised interoperability frameworks shall be based on the EIF. The Board shall assess the alignment of the specialised interoperability frameworks with the EIF. The Commission shall publish the specialised interoperability frameworks on the Interoperable Europe portal. 4.Where a Member State develops a national interoperability framework and other relevant national policies, strategies or guidelines, it shall take the EIF into utmost account.',
            'art_7': 'Article7 Interoperable Europe solutions 1.The Board shall recommend interoperability solutions for the cross-border interoperability of trans-European digital public services. Where the Board makes such a recommendation, that solution shall carry the label Interoperable Europe solution and shall be published on the Interoperable Europe portal, clearly distinguishing between Interoperable Europe solutions and other solutions. Where the Board withdraws its recommendation the Interoperable Europe solution label shall be removed and, where necessary, the solution shall be deleted from the Interoperable Europe portal. 2.The Interoperable Europe solutions shall adhere to the principles of openness and reuse and shall meet the criteria referred to Article15(5), point (i).',
            'art_8': 'Article8 Interoperable Europe portal 1.The Commission shall provide a portal as a single point of entry for information related to cross-border interoperability of trans-European digital public services (the Interoperable Europe portal). The Interoperable Europe portal shall be electronically accessible to all citizens, including persons with disabilities, and such access shall be free of charge. The Interoperable Europe portal shall have at least the following functions: (a) providing access to Interoperable Europe solutions in a user-friendly manner and at least searchable per Member State and per public service; (b) providing access to interoperability solutions other than Interoperable Europe solutions, such as those: (i) shared pursuant to Article4(3); (ii) provided for pursuant to other Union policies; (iii) published on other portals, catalogues or repositories connected to the Interoperable Europe portal; (c) providing access to ICT technical specifications eligible for referencing in accordance with Article13 of Regulation (EU) No1025/2012; (d) providing access to information on the processing of personal data in the context of interoperability regulatory sandboxes referred to in Articles11 and12, where any high risk to the rights and freedoms of the data subjects, as referred to in Article35(1) of Regulation (EU)2016/679 and in Article39 of Regulation (EU)2018/1725, has been identified, as well as access to information on response mechanisms to promptly mitigate that risk, including, where appropriate, disclosure of the data protection impact assessment; (e) fostering knowledge exchange between members of the Interoperable Europe Community referred to in Article16, such as providing a feedback system for the expression of views on measures proposed by the Board or for expressions of interest in participating in actions related to the implementation of this Regulation; (f) listing best practices and knowledge sharing supporting interoperability, including, where appropriate, guidance on public procurement, cybersecurity, IT integration and data governance; (g) providing access to the data resulting from interoperability-related monitoring carried out pursuant to Article20; (h) allowing citizens, businesses, in particular SMEs, and civil society organisations to provide feedback on the published content. 2.The Board may propose that the Commission publish other interoperability solutions on the Interoperable Europe portal or have them referred to on the Interoperable Europe portal. 3.The solutions accessible through the Interoperable Europe portal shall: (a) not be subject to third party rights that prevent their distribution and use; (b) not contain personal data or confidential information; (c) have a high-level of alignment with the Interoperable Europe solutions, which may be proven by publishing the outcome of the interoperability assessment referred to in Article3 and in the Annex; (d) use a licence that allows the solution at least to be reused by other Union entities or public sector bodies, or be issued as open source; (e) be regularly maintained under the responsibility of the owner of the interoperability solution. 4.Where a Union entity or public sector body provides a portal, catalogue or repository with similar functions, it shall take the necessary and proportionate measures to ensure interoperability with the Interoperable Europe portal. Where such portals collect open source solutions, they shall allow for the use of the European Union Public Licence. 5.The Commission may adopt guidelines on interoperability for portals, catalogues or repositories with similar functions as those referred to in paragraph 4.',
            'art_9': 'Article9 Policy implementation support projects 1.The Board may propose that the Commission set up projects to support public sector bodies in the digital implementation of Union policies ensuring the cross-border interoperability of trans-European digital public services (policy implementation support project). 2.The policy implementation support project shall set out: (a) the existing Interoperable Europe solutions that are deemed to be necessary for the digital implementation of the policy requirements; (b) any missing interoperability solutions to be developed that are deemed to be necessary for the digital implementation of the policy requirements; (c) other recommended support measures, such as training, the sharing of expertise or peer review, as well as financial support opportunities to assist the implementation of interoperability solutions. 3.The Commission shall, after consulting the Board, lay down the scope, timeline, necessary involvement of particular sectors and administrative levels and working methods of the support project. Where the Commission has already carried out and published an interoperability assessment pursuant to Article3, the outcome of that assessment shall be taken into account when setting up the support project. 4.In order to reinforce the policy implementation support project, the Board may propose the establishment of an interoperability regulatory sandbox pursuant to Article11. 5.The outcome of a policy implementation support project as well as interoperability solutions developed during the project shall be openly available and made public on the Interoperable Europe portal.',
            'art_10': 'Article10 Innovation measures 1.The Board may propose that the Commission set up innovation measures to support the development and uptake of innovative interoperability solutions in the Union (innovation measures). 2.Innovation measures shall contribute to the development of existing or new Interoperable Europe solutions and may involve GovTech actors. 3.In order to support the development of innovation measures, the Board may propose the establishment of an interoperability regulatory sandbox. 4.The Commission shall make the results from the innovation measures openly available on the Interoperable Europe portal.',
            'art_11': 'Article11 Establishment of interoperability regulatory sandboxes 1.Interoperability regulatory sandboxes shall be operated under the responsibility of the participating Union entities or public sector bodies. Interoperability regulatory sandboxes that entail the processing of personal data by public sector bodies, shall be operated under the supervision of the national data protection authorities as well as other relevant national, regional or local supervisory authorities. Interoperability regulatory sandboxes that entail the processing of personal data by Union entities shall be operated under the supervision of the European Data Protection Supervisor. 2.The establishment of an interoperability regulatory sandbox as referred to paragraph 1 shall aim to contribute to the following objectives: (a) fostering innovation and facilitating the development and roll-out of innovative digital interoperability solutions for public services; (b) facilitating cross-border cooperation between national regional and local competent authorities and synergies in public service delivery; (c) facilitating the development of an open European GovTech ecosystem, including cooperation with SMEs, research and educational institutions and start-ups; (d) enhancing authorities understanding of the opportunities or barriers to cross-border interoperability of innovative interoperability solutions, including legal barriers; (e) contributing to the development or update of Interoperable Europe solutions; (f) contributing to evidence-based regulatory learning; (g) improving legal certainty and contributing to the sharing of best practices through cooperation with the authorities involved in the interoperability regulatory sandbox with a view to ensuring compliance with this Regulation and, where appropriate, with other Union and national law. 3.In order to ensure a harmonised approach and to support the implementation of interoperability regulatory sandboxes, the Commission may issue guidelines and clarifications, without prejudice to other Union law. 4.The Commission, after consulting the Board shall, upon a joint request from at least three participants, authorise the establishment of an interoperability regulatory sandbox. Where appropriate the request shall specify information such as the purpose of the processing of personal data, the actors involved and their roles, the categories of personal data concerned and their sources, and the envisaged retention period. The consultation shall not replace the prior consultation referred to in Article36 of Regulation (EU)2016/679 and Article40 of Regulation (EU)2018/1725. Where the interoperability regulatory sandbox is established for interoperability solutions supporting the cross-border interoperability of trans-European digital public services by one or more Union entities, including with the participation of public sector bodies, no authorisation shall be required.',
            'art_12': 'Article12 Participation in interoperability regulatory sandboxes 1.The participating Union entities or public sector bodies shall ensure, where the operation of the interoperability regulatory sandbox requires the processing of personal data or otherwise falls under the supervisory remit of other national, regional or local authorities providing or supporting access to data, that national data protection authorities as well as other national, regional or local authorities are associated with the operation of the interoperability regulatory sandbox. As appropriate, participants may allow for the involvement in the interoperability regulatory sandbox of other GovTech actors such as national or European standardisation organisations, notified bodies, research and experimentation labs, innovation hubs, and companies wishing to test innovative interoperability solutions, in particular SMEs and start-ups. 2.Participation in the interoperability regulatory sandbox shall be limited to a period appropriate to the complexity and scale of the project, which shall, in any event, not exceed two years from the establishment of the interoperability regulatory sandbox. Participation may be extended by up to one year if necessary to achieve the purpose of the processing. 3.Participation in the interoperability regulatory sandbox shall be based on a specific plan elaborated by the participants and taking into account, as applicable, the advice of other national competent authorities or the European Data Protection Supervisor. The plan shall contain at least the following: (a) a description of the participants involved and their roles, the envisaged innovative interoperability solution and its intended purpose, and relevant development, testing and validation process; (b) the specific regulatory issues at stake and the guidance that is expected from the authorities supervising the interoperability regulatory sandbox; (c) the specific arrangements for collaboration between the participants and the authorities, as well as any other actor involved in the interoperability regulatory sandbox; (d) a risk management and monitoring mechanism to identify, prevent and mitigate risks; (e) the key milestones to be completed by the participants for the interoperability solution to be considered ready to put into service; (f) evaluation and reporting requirements and possible follow-up; (g) where it is strictly necessary and proportionate to process personal data, the reasons for such processing, an indication of the categories of personal data concerned, the purposes of the processing for which the personal data are intended, the controllers and processors involved in the processing and their role. 4.Participation in the interoperability regulatory sandboxes shall not affect the supervisory and corrective powers of any authorities supervising those sandboxes. 5.Participants in the interoperability regulatory sandbox shall remain liable under applicable Union and national law on liability for any damage caused in the course of their participation in the interoperability regulatory sandbox. 6.Personal data may be processed in the interoperability regulatory sandbox for purposes other than that for which it has initially been lawfully collected, subject to all of the following conditions: (a) the innovative interoperability solution is developed for safeguarding public interests in the context of a high level of efficiency and quality of public administration and public services; (b) the data processed is limited to what is necessary for the functioning of the interoperability solution to be developed or tested in the interoperability regulatory sandbox, and that functioning cannot be effectively achieved by processing anonymised, synthetic or other non-personal data; (c) there are effective monitoring mechanisms to identify whether any high risk to the rights and freedoms of the data subjects, as referred to in Article35(1) of Regulation (EU)2016/679 and in Article39 of Regulation (EU)2018/1725, may arise during the operation of the interoperability regulatory sandbox, as well as a response mechanism to promptly mitigate that risk and, where necessary, stop the processing; (d) any personal data to be processed are in a functionally separate, isolated and protected data processing environment under the control of the participants and only duly authorised persons have access to that data; (e) any personal data processed are not to be transmitted, transferred or otherwise accessed by other parties that are not participants in the interoperability regulatory sandbox unless such disclosure occurs in accordance with Regulation (EU)2016/679 or, where applicable, Regulation (EU)2018/1725, and all participants have agreed to it; (f) any processing of personal data do not affect the application of the rights of the data subjects as provided for under Union law on the protection of personal data, in particular in Article22 of Regulation (EU)2016/679 and Article24 of Regulation (EU)2018/1725; (g) any personal data processed are protected by means of appropriate technical and organisational measures and erased once the participation in the interoperability regulatory sandbox has terminated or the personal data has reached the end of its retention period; (h) the logs of the processing of personal data are kept for the duration of the participation in the interoperability regulatory sandbox, unless provided otherwise by Union or national law; (i) a complete and detailed description of the process and rationale behind the training, testing and validation of the interoperability solution is kept together with the testing results as part of the technical documentation and transmitted to the Board; (j) a short summary of the interoperability solution to be developed in the interoperability regulatory sandbox, including its objectives and expected results, is made available on the Interoperable Europe portal. 7.Paragraph 1 is without prejudice to Union or national law laying down the basis for the processing of personal data which is necessary for the purpose of developing, testing and training of innovative interoperability solutions or any other legal basis, in accordance with Union law on the protection of personal data. 8.The participants shall submit periodic reports and a final report to the Board and the Commission on the results from the interoperability regulatory sandboxes, including good practices, lessons learnt, security measures and recommendations on their operation and, where relevant, on the development of this Regulation and other Union law supervised within the interoperability regulatory sandbox. The Board shall issue an opinion to the Commission on the outcome of the interoperability regulatory sandbox, specifying, where applicable, the actions needed to implement new interoperability solutions to promote the cross-border interoperability of trans-European digital public services. 9.The Commission shall ensure that information on the interoperability regulatory sandboxes is available on the Interoperable Europe portal. 10.By 12April 2025, the Commission shall adopt implementing acts setting out the detailed rules and the conditions for the establishment and the operation of the interoperability regulatory sandboxes, including the eligibility criteria and the procedure for the application for, selection of, participation in and exiting from the interoperability regulatory sandbox and the rights and obligations of the participants. Those implementing acts shall be adopted in accordance with the examination procedure referred to in Article22(2).',
            'art_13': 'Article13 Training 1.The Commission, assisted by the Board, shall provide training material on the use of the EIF and on Interoperable Europe solutions, including solutions that are free and open source. Union entities and public sector bodies shall provide their staff entrusted with strategical or operational tasks having an impact on trans-European digital public services with appropriate training programmes concerning interoperability issues. 2.The Commission shall organise training courses on interoperability issues at Union level to enhance cooperation and the exchange of best practices between the staff of Union entities and public sector bodies, targeting public sector employees in particular at regional and local level. The Commission shall make the training courses publicly accessible online, free of charge. 3.The Commission shall promote the development of a certification programme on interoperability matters to promote best practices, human resources qualification and a culture of excellence.',
            'art_14': 'Article14 Peer review 1.A voluntary mechanism for peer review shall be established for the purpose of facilitating cooperation between public sector bodies, designed to support them in implementing Interoperable Europe solutions, to support trans-European digital public services and to help them carry out an interoperability assessments pursuant to Article3. 2.A peer review shall be conducted by interoperability experts drawn from Member States other than the Member State where the public sector body undergoing the peer review is located. 3.Any information obtained through a peer review shall be used solely for the purpose of that peer review. The interoperability experts participating in the peer review shall not disclose any sensitive or confidential information obtained in the course of that peer review to third parties. The Member State concerned shall ensure that any risk of a conflict of interest concerning the designated interoperability experts is communicated to the other Member States and the Commission without undue delay. 4.The interoperability experts conducting the peer review shall prepare and present a report within one month of the finalisation of the peer review and submit it to the public sector body concerned and to the Board. The Commission shall publish a report on the Interoperable Europe portal when authorised by the Member State where the public sector body undergoing the peer review is located. 5.The Commission may, after consulting the Board, adopt guidelines on the methodology and content of peer review.',
            'art_15': 'Article15 Interoperable Europe Board 1.The Interoperable Europe Board (the Board) is hereby established. It shall facilitate strategic cooperation and provide advice on the application of this Regulation. 2.The Board shall be composed of one representative from each Member State and from the Commission. 3.The Committee of the Regions, the EU Cybersecurity Agency (ENISA) and the European Cybersecurity Competence Centre shall each designate one expert, who shall be invited to participate as observers. 4.The Board shall be chaired by the Commission. The Chair may grant observer status in the Board to experts designated by Union entities, regions, organisations and candidate countries. The Chair may invite to participate, on an ad hoc basis, experts with specific competence in a subject on the agenda. The Commission shall provide the secretariat of the Board. The members of the Board shall make every effort to adopt decisions by consensus. In the event of a vote, the outcome of the vote shall be decided by simple majority of the component members. The members who have voted against a proposal or abstained shall have the right to have a document summarising the reasons for their position annexed to the opinions, recommendations or reports. 5.The Board shall have the following tasks: (a) to adopt guidelines with regard to the interoperability assessment pursuant to Article3(5) and the common checklist set out in the Annex to this Regulation, and, if necessary, update those guidelines; (b) to analyse the information collected pursuant to Article3(2) and to provide, on that basis, suggestions to improve the cross-border interoperability of trans-European digital public services; (c) to adopt guidelines on sharing the interoperability solutions referred to in Article4; (d) to propose measures to foster the share and reuse of interoperability solutions; (e) to develop the EIF, to update it if necessary and to propose it to the Commission; (f) to support the implementation of the interoperability frameworks of the Member States and of the Union entities and other relevant Union and national policies, strategies or guidelines, including the digital-by-default principle and the interoperability-by-design approach; (g) to assess the alignment of the specialised interoperability frameworks with the EIF and to answer requests for consultation from the Commission on those frameworks; (h) to adopt the Interoperable Europe Agenda referred to in Article19; (i) to recommend Interoperable Europe solutions and to withdraw such recommendations on the basis of agreed criteria; (j) to monitor the overall coherence of the recommended interoperability solutions, at national, regional and local level, including the information on their metadata and categorisation; (k) to propose to the Commission measures to ensure, where appropriate, the compatibility of interoperability solutions with other interoperability solutions that share a common purpose, while supporting, where relevant, the complementarity with or transition to new technologies; (l) to propose that the Commission publish the interoperability solutions referred to in Article8(2) or have those interoperability solutions referred to on the Interoperable Europe portal; (m) to propose to the Commission the setting up of policy implementation support projects, innovation measures and other relevant measures, including funding support; (n) to identify best practices for integrating interoperability solutions in public procurement and tenders; (o) to review reports from innovation measures on the use of the interoperability regulatory sandboxes and on peer review and to propose follow-up measures if necessary; (p) to propose measures to enhance the interoperability capabilities of public sector bodies, such as training; (q) to propose measures to relevant standardisation organisations and bodies to contribute to European standardisation activities, in particular by means of the procedures set out in Regulation (EU) No1025/2012; (r) to propose measures by which to collaborate with international bodies and research and educational institutions that could contribute to the development on interoperability, especially international communities on open source solutions, open standards or technical specifications and other platforms; (s) to coordinate with the European Data Innovation Board referred to in Regulation (EU)2022/868 on interoperability solutions for the common European Data Spaces, as well as with any other Union entity working on interoperability solutions relevant for the public sector; (t) to inform regularly and coordinate with the interoperability coordinators referred to in Article18 and, where relevant, with the Interoperable Europe Community, on matters concerning trans-European digital public services, including relevant Union-funded projects and networks; (u) to provide advice to the Commission on the monitoring of and reporting on the application of this Regulation; (v) to provide to the Commission in a timely manner the necessary input and data required for the effective delivery of the reports in accordance with Article20. 6.The Board may set up working groups to examine specific points related to the tasks of the Board. Working groups shall involve members of the Interoperable Europe Community. 7.The Board shall adopt its own rules of procedure.',
            'art_16': 'Article16 Interoperable Europe Community 1.An Interoperable Europe Community shall, where so requested by the Board, contribute to the activities of the Board by providing expertise and advice. 2.Public and private stakeholders as well as civil society organisations and academic contributors residing or having their registered office in a Member State may register on the Interoperable Europe portal as members of the Interoperable Europe Community. 3.After confirmation of the registration, membership status shall be made public on the Interoperable Europe portal. Membership shall not be limited in time. It may however be revoked by the Board at any time for proportionate and justified reasons, especially if a member is no longer able to contribute to the Interoperable Europe Community or has abused the status of member of the Interoperable Europe Community. 4.The members of the Interoperable Europe Community may be invited, inter alia, to: (a) contribute to the content of the Interoperable Europe portal; (b) provide expertise with regard to the development of interoperability solutions; (c) participate in the working groups and other activities; (d) participate in the support measures provided for in Articles9 to 14; (e) promote the use of interoperability standards and frameworks. 5.The Board shall organise an annual online assembly of the Interoperable Europe Community. 6.The Board shall adopt the code of conduct for the Interoperable Europe Community. The code of conduct shall be published on the Interoperable Europe portal.',
            'art_17': 'Article17 National competent authorities and single points of contact 1.Each Member State shall designate one or more competent authorities as responsible for the application of this Regulation. Member States shall designate a single point of contact from among their competent authorities. 2.The single point of contact shall have the following tasks: (a) to coordinate within the Member State with regard to all questions related to this Regulation; (b) to support public sector bodies within the Member State to set up or adapt the processes by which they carry out interoperability assessments referred to in Article3 and in the Annex; (c) to foster the share and reuse of interoperability solutions through the Interoperable Europe portal or another relevant portal; (d) to contribute country-specific knowledge to the Interoperable Europe portal; (e) to coordinate and encourage the active involvement of a diverse range of national, regional and local entities in policy implementation support projects and innovation measures referred to in Articles9 to 14; (f) to support public sector bodies in the Member State to cooperate with the relevant public sector bodies in other Member States on topics covered by this Regulation. 3.Member States shall ensure that the competent authorities have adequate competence and resources to carry out, in an effective and efficient manner, the tasks assigned to them. 4.The Member States shall set up the necessary cooperation structures between all national authorities involved in the implementation of this Regulation. Those structures may build on existing mandates and processes in the field. 5.Each Member State shall notify to the Commission, without undue delay, the designation of its single point of contact and any subsequent change thereto and shall inform the Commission of other national authorities involved in the oversight of the interoperability policy. Each Member State shall make public the designation of their single point of contact. The Commission shall publish the list of the designated single points of contact.',
            'art_18': 'Article18 Interoperability coordinators for Union entities Any Union entity that regulates, provides or manages trans-European digital public services shall designate an interoperability coordinator under the oversight of its highest level of management to ensure the contribution of that Union entity to the implementation of this Regulation. The interoperability coordinator shall provide support across that Union entity with regard to setting up or adapting internal processes to implement the interoperability assessment.',
            'art_19': 'Article19 Interoperable Europe Agenda 1.After organising a public consultation process through the Interoperable Europe portal that involves, among others, the members of the Interoperable Europe Community and the interoperability coordinators, the Board shall adopt, each year, a strategic agenda by which to plan and coordinate priorities for the development of cross-border interoperability of trans-European digital public services (the Interoperable Europe Agenda). The Interoperable Europe Agenda shall take into account the Unions long-term strategies for digitalisation, existing Union funding programmes and ongoing Union policy implementation. 2.The Interoperable Europe Agenda shall contain: (a) a needs assessment for the development of interoperability solutions; (b) a list of ongoing and planned Interoperable Europe support measures; (c) a list of proposed follow-up actions to innovation measures, including actions in support of open source interoperability solutions; (d) an identification of synergies with other relevant Union and national programmes and initiatives; (e) indications of available financial opportunities in support of the priorities included. 3.The Interoperable Europe Agenda shall not impose financial obligations or further administrative burdens. After its adoption, the Commission shall publish the Interoperable Europe Agenda on the Interoperable Europe portal and shall provide regular updates on its implementation.',
            'art_20': 'Article20 Monitoring and evaluation 1.The Commission shall monitor the progress of the development of trans-European digital public services to support evidence-based policymaking and necessary actions in the Union at national, regional and local level. Monitoring shall give priority to the reuse of existing Union, national and international monitoring data and to automated data collection. The Commission shall consult the Board in the preparation of the methodology, the indicators and the process relating to the monitoring. 2.As regards topics of specific interest for the implementation of this Regulation, the Commission shall monitor: (a) progress with regard to the cross-border interoperability of trans-European digital public services in the Union; (b) progress towards the implementation of the EIF by the Member States; (c) the take-up of interoperability solutions for different public services across the Member States; (d) the development of open source interoperability solutions for public services, public sector innovation and cooperation with GovTech actors, including SMEs and start-ups, in the field of cross-border interoperable public services to be delivered or managed electronically in the Union; (e) the enhancement of public sector interoperability skills. 3.Monitoring results shall be published by the Commission on the Interoperable Europe portal. Where feasible, they shall be published in a machine-readable format. 4.The Commission shall submit and present to the European Parliament and to the Council an annual report on interoperability in the Union. That report shall: (a) set out progress with regard to the cross-border interoperability of trans-European digital public services in the Union; (b) identify significant implementation barriers to as well as drivers of cross-border interoperable public services in the Union; (c) set out the results achieved over time in terms of the implementation of the EIF, the take-up of interoperability solutions, the enhancement of interoperability skills, the development of open source interoperability solutions for public services, and the increase of public sector innovation and cooperation with GovTech actors. 5.By 12January 2028 and every four years thereafter, the Commission shall submit to the European Parliament and to the Council a report on the application of this Regulation, which shall include the conclusions of its evaluation. The report shall specifically assess whether there is a need to establish mandatory interoperability solutions. 6.The report referred to in paragraph 5 shall assess, in particular: (a) the impact of this Regulation on cross-border interoperability as an enabler for seamless and accessible digital public services in the Union; (b) the increased efficiency, including by the reduction of administrative burdens in online transaction processes resulting from cross-border interoperability, on citizens and businesses, in particular SMEs and startups; (c) the need for any additional policies, measures or actions that are required at Union level. 7.Where the timing of the reports referred to in paragraphs 4 and5 coincide, the Commission may combine both reports.',
            'art_21': 'Article21 Costs 1.Subject to the availability of funding, the general budget of the Union shall cover the costs of: (a) the development and maintenance of the Interoperable Europe portal; (b) the development, maintenance and promotion of Interoperable Europe solutions; (c) the Interoperable Europe support measures. 2.The costs referred to in paragraph 1 shall be met in a manner that complies with the applicable provisions of the relevant basic act.',
            'art_22': 'Article22 Committee procedure 1.The Commission shall be assisted by a committee. That committee shall be a committee within the meaning of Regulation (EU) No182/2011. 2.Where reference is made to this paragraph, Article5 of Regulation (EU) No182/2011 shall apply.',
            'art_23': 'Article23 Entry into force 1.This Regulation shall enter into force on the twentieth day following that of its publication in the Official Journal of the European Union. 2.It shall apply from 12July 2024. However, Article3(1) to (4) and Article17 shall apply from 12January 2025.'
            }
            
        self.assertEqual(self.parser.articles, expected)

    def test_get_paragraphs(self):
        """Test parsing paragraphs from an HTML file."""
        self.parser.get_paragraphs()
        expected = {
                '001.001': '1.This Regulation lays down measures that promote the cross-border interoperability of trans-European digital public services, thus contributing to the interoperability of the underlying network and information systems by establishing common rules and a governance framework.',
                '001.002': '2.This Regulation applies to Union entities and public sector bodies that regulate, provide, manage or implement trans-European digital public services.',
                '001.003': '3.This Regulation applies without prejudice to the competence of Member States to define what constitutes public services or to their ability to establish procedural rules for or to provide, manage or implement those services.',
                '001.004': '4.This Regulation is without prejudice to the competence of Member States with regard to their activities concerning public security, defence and national security.',
                '001.005': '5.This Regulation does not entail the supply of information the disclosure of which would be contrary to the essential interests of Member States public security, defence or national security.',
                '003.001': '1.Before taking a decision on new or substantially modified binding requirements, a Union entity or a public sector body shall carry out an interoperability assessment. Where, in relation to binding requirements, an interoperability assessment has already been carried out or where binding requirements are implemented by solutions provided by Union entities, the public sector body concerned shall not be required to carry out a further interoperability assessment in relation to those requirements. A single interoperability assessment may be carried out to address a set of binding requirements. The Union entity or public sector body concerned may also carry out the interoperability assessment in other cases.',
                '003.002': '2.An interoperability assessment shall, in an appropriate manner, identify and assess the following: (a) the effects of the binding requirements on cross-border interoperability, using the European Interoperability Framework referred to in Article6as a support tool; (b) the stakeholders to which the binding requirements are relevant; (c) the Interoperable Europe solutions referred to in Article7 that support the implementation of the binding requirements. The Union entity or public sector body concerned shall publish, in a machine-readable format facilitating automated translation, a report presenting the outcome of the interoperability assessment, including the items listed in the Annex, on an official website. It shall share that report electronically with the Interoperable Europe Board established pursuant to Article15 (the Board). The requirements laid down in this paragraph shall not restrict existing Member States rules on access to documents. The publication of that report shall not compromise intellectual property rights or trade secrets, public order or security.',
                '003.003': '3.Union entities and public sector bodies may decide which body is to provide the necessary support to carry out the interoperability assessment. The Commission shall provide technical tools to support the interoperability assessment, including an online tool to facilitate the completion of the report and its publication on the Interoperable Europe portal referred to in Article8.',
                '003.004': '4.The Union entity or public sector body concerned shall consult recipients of the services directly affected, including citizens, or their representatives. That consultation shall be without prejudice to the protection of commercial or public interests or the security of such services.',
                '003.005': '5.By 12January 2025, the Board shall adopt the guidelines referred to in Article15(5), point (a).',
                '004.001': '1.A Union entity or public sector body shall make available to any other Union entity or public sector body that requests it an interoperability solution supporting a trans-European digital public service, including the technical documentation, and, where applicable, the version history, documented source code and the references to open standards or technical specifications used. The obligation to share shall not apply to any of the following interoperability solutions, namely those: (a) that support processes which fall outside the scope of the public task of the Union entity or public sector body concerned as defined by law or by other binding rules, or, in the absence of such rules, as defined in accordance with common administrative practice in the Union entities or Member State in question, provided that the scope of the public tasks is transparent and subject to review; (b) for which third parties hold intellectual property rights that restrict the possibility of sharing the solution for reuse; (c) access to which is excluded or restricted on grounds of: (i) sensitive critical infrastructure protection related information as defined in Article2, point (d), of Council Directive2008/114/EC(18); (ii) the protection of defence interests or public security, including national critical infrastructure.',
                '004.002': '2.To enable the reusing entity to manage the interoperability solution autonomously, the sharing entity shall specify any conditions that apply to the reuse of the solution, including any guarantees provided to the reusing entity with regard to cooperation, support and maintenance. Such conditions may include the exclusion of liability of the sharing entity in the case of misuse of the interoperability solution by the reusing entity. Before adopting the interoperability solution, the reusing entity shall, upon request, provide to the sharing entity an assessment of the solution covering its ability to manage autonomously the cybersecurity and the evolution of the reused interoperability solution.',
                '004.003': '3.The obligation in paragraph 1 may be fulfilled by publishing the relevant content on the Interoperable Europe portal or a portal, catalogue or repository connected to the Interoperable Europe portal. In that case, paragraph 2 shall not apply to the sharing entity. At the request of the sharing entity, the Commission shall publish the relevant content on the Interoperable Europe portal.',
                '004.004': '4.A Union entity or public sector body, or a third party reusing an interoperability solution, may adapt it to its own needs, unless intellectual property rights held by a third party restrict the adaptation of the interoperability solution. If the interoperability solution is made public pursuant to paragraph 3, the adapted interoperability solution shall be made public in the same way.',
                '004.005': '5.The sharing and reusing entities may conclude an agreement on sharing the costs for future developments of the interoperability solution.',
                '004.006': '6.When deciding on the implementation of interoperability solutions, Union entities and public sector bodies shall prioritise the implementation of interoperability solutions that do not carry restrictive licensing terms, such as open source solutions, where such interoperability solutions are equivalent in terms of functionalities, total cost, user-centricity, cybersecurity or other relevant objective criteria. The Commission shall provide support in identifying such interoperability solutions, as provided for in Article9.',
                '004.007': '7.The Board shall adopt guidelines on the sharing of interoperability solutions.',
                '005.001': '1.The Commission shall publish Interoperable Europe solutions and the EIF on the Interoperable Europe portal, by electronic means, in formats that are open, machine-readable, accessible for persons with disabilities in accordance with Directives (EU)2016/2102(19) and (EU)2019/882(20) of the European Parliament and of the Council, findable and re-usable, if applicable, together with their documented source code and metadata. Machine-translated versions of the Interoperable Europe solutions shall be published on the Interoperable Europe portal in all the official languages of the Union institutions.',
                '005.002': '2.The Board shall monitor the overall coherence of the recommended interoperability solutions, and propose measures to ensure, where appropriate, their compatibility with other interoperability solutions that share a common purpose, while supporting, where relevant, their complementarity with or transition to new technologies.',
                '006.001': '1.The Board shall develop a European Interoperability Framework (EIF). It shall submit the EIF to the Commission for adoption. In the event that the Commission adopts the EIF, it shall publish the EIF in the Official Journal of the European Union.',
                '006.002': '2.The EIF shall provide a model and a set of recommendations for legal, organisational, semantic and technical interoperability as well as for its governance, that are addressed to all entities falling within the scope of this Regulation for the purpose of facilitating interactions among each other through their network and information systems. The EIF shall be taken into account in the interoperability assessment referred to in Article3 and in the Annex.',
                '006.003': '3.The Commission may, after consulting the Board, adopt other interoperability frameworks (specialised interoperability frameworks) targeting the needs of specific sectors or administrative levels. Specialised interoperability frameworks shall be based on the EIF. The Board shall assess the alignment of the specialised interoperability frameworks with the EIF. The Commission shall publish the specialised interoperability frameworks on the Interoperable Europe portal.',
                '006.004': '4.Where a Member State develops a national interoperability framework and other relevant national policies, strategies or guidelines, it shall take the EIF into utmost account.',
                '007.001': '1.The Board shall recommend interoperability solutions for the cross-border interoperability of trans-European digital public services. Where the Board makes such a recommendation, that solution shall carry the label Interoperable Europe solution and shall be published on the Interoperable Europe portal, clearly distinguishing between Interoperable Europe solutions and other solutions. Where the Board withdraws its recommendation the Interoperable Europe solution label shall be removed and, where necessary, the solution shall be deleted from the Interoperable Europe portal.',
                '007.002': '2.The Interoperable Europe solutions shall adhere to the principles of openness and reuse and shall meet the criteria referred to Article15(5), point (i).',
                '008.001': '1.The Commission shall provide a portal as a single point of entry for information related to cross-border interoperability of trans-European digital public services (the Interoperable Europe portal). The Interoperable Europe portal shall be electronically accessible to all citizens, including persons with disabilities, and such access shall be free of charge. The Interoperable Europe portal shall have at least the following functions: (a) providing access to Interoperable Europe solutions in a user-friendly manner and at least searchable per Member State and per public service; (b) providing access to interoperability solutions other than Interoperable Europe solutions, such as those: (i) shared pursuant to Article4(3); (ii) provided for pursuant to other Union policies; (iii) published on other portals, catalogues or repositories connected to the Interoperable Europe portal; (c) providing access to ICT technical specifications eligible for referencing in accordance with Article13 of Regulation (EU) No1025/2012; (d) providing access to information on the processing of personal data in the context of interoperability regulatory sandboxes referred to in Articles11 and12, where any high risk to the rights and freedoms of the data subjects, as referred to in Article35(1) of Regulation (EU)2016/679 and in Article39 of Regulation (EU)2018/1725, has been identified, as well as access to information on response mechanisms to promptly mitigate that risk, including, where appropriate, disclosure of the data protection impact assessment; (e) fostering knowledge exchange between members of the Interoperable Europe Community referred to in Article16, such as providing a feedback system for the expression of views on measures proposed by the Board or for expressions of interest in participating in actions related to the implementation of this Regulation; (f) listing best practices and knowledge sharing supporting interoperability, including, where appropriate, guidance on public procurement, cybersecurity, IT integration and data governance; (g) providing access to the data resulting from interoperability-related monitoring carried out pursuant to Article20; (h) allowing citizens, businesses, in particular SMEs, and civil society organisations to provide feedback on the published content.',
                '008.002': '2.The Board may propose that the Commission publish other interoperability solutions on the Interoperable Europe portal or have them referred to on the Interoperable Europe portal.',
                '008.003': '3.The solutions accessible through the Interoperable Europe portal shall: (a) not be subject to third party rights that prevent their distribution and use; (b) not contain personal data or confidential information; (c) have a high-level of alignment with the Interoperable Europe solutions, which may be proven by publishing the outcome of the interoperability assessment referred to in Article3 and in the Annex; (d) use a licence that allows the solution at least to be reused by other Union entities or public sector bodies, or be issued as open source; (e) be regularly maintained under the responsibility of the owner of the interoperability solution.',
                '008.004': '4.Where a Union entity or public sector body provides a portal, catalogue or repository with similar functions, it shall take the necessary and proportionate measures to ensure interoperability with the Interoperable Europe portal. Where such portals collect open source solutions, they shall allow for the use of the European Union Public Licence.',
                '008.005': '5.The Commission may adopt guidelines on interoperability for portals, catalogues or repositories with similar functions as those referred to in paragraph 4.',
                '009.001': '1.The Board may propose that the Commission set up projects to support public sector bodies in the digital implementation of Union policies ensuring the cross-border interoperability of trans-European digital public services (policy implementation support project).',
                '009.002': '2.The policy implementation support project shall set out: (a) the existing Interoperable Europe solutions that are deemed to be necessary for the digital implementation of the policy requirements; (b) any missing interoperability solutions to be developed that are deemed to be necessary for the digital implementation of the policy requirements; (c) other recommended support measures, such as training, the sharing of expertise or peer review, as well as financial support opportunities to assist the implementation of interoperability solutions.',
                '009.003': '3.The Commission shall, after consulting the Board, lay down the scope, timeline, necessary involvement of particular sectors and administrative levels and working methods of the support project. Where the Commission has already carried out and published an interoperability assessment pursuant to Article3, the outcome of that assessment shall be taken into account when setting up the support project.',
                '009.004': '4.In order to reinforce the policy implementation support project, the Board may propose the establishment of an interoperability regulatory sandbox pursuant to Article11.',
                '009.005': '5.The outcome of a policy implementation support project as well as interoperability solutions developed during the project shall be openly available and made public on the Interoperable Europe portal.',
                '010.001': '1.The Board may propose that the Commission set up innovation measures to support the development and uptake of innovative interoperability solutions in the Union (innovation measures).',
                '010.002': '2.Innovation measures shall contribute to the development of existing or new Interoperable Europe solutions and may involve GovTech actors.',
                '010.003': '3.In order to support the development of innovation measures, the Board may propose the establishment of an interoperability regulatory sandbox.',
                '010.004': '4.The Commission shall make the results from the innovation measures openly available on the Interoperable Europe portal.',
                '011.001': '1.Interoperability regulatory sandboxes shall be operated under the responsibility of the participating Union entities or public sector bodies. Interoperability regulatory sandboxes that entail the processing of personal data by public sector bodies, shall be operated under the supervision of the national data protection authorities as well as other relevant national, regional or local supervisory authorities. Interoperability regulatory sandboxes that entail the processing of personal data by Union entities shall be operated under the supervision of the European Data Protection Supervisor.',
                '011.002': '2.The establishment of an interoperability regulatory sandbox as referred to paragraph 1 shall aim to contribute to the following objectives: (a) fostering innovation and facilitating the development and roll-out of innovative digital interoperability solutions for public services; (b) facilitating cross-border cooperation between national regional and local competent authorities and synergies in public service delivery; (c) facilitating the development of an open European GovTech ecosystem, including cooperation with SMEs, research and educational institutions and start-ups; (d) enhancing authorities understanding of the opportunities or barriers to cross-border interoperability of innovative interoperability solutions, including legal barriers; (e) contributing to the development or update of Interoperable Europe solutions; (f) contributing to evidence-based regulatory learning; (g) improving legal certainty and contributing to the sharing of best practices through cooperation with the authorities involved in the interoperability regulatory sandbox with a view to ensuring compliance with this Regulation and, where appropriate, with other Union and national law.',
                '011.003': '3.In order to ensure a harmonised approach and to support the implementation of interoperability regulatory sandboxes, the Commission may issue guidelines and clarifications, without prejudice to other Union law.',
                '011.004': '4.The Commission, after consulting the Board shall, upon a joint request from at least three participants, authorise the establishment of an interoperability regulatory sandbox. Where appropriate the request shall specify information such as the purpose of the processing of personal data, the actors involved and their roles, the categories of personal data concerned and their sources, and the envisaged retention period. The consultation shall not replace the prior consultation referred to in Article36 of Regulation (EU)2016/679 and Article40 of Regulation (EU)2018/1725. Where the interoperability regulatory sandbox is established for interoperability solutions supporting the cross-border interoperability of trans-European digital public services by one or more Union entities, including with the participation of public sector bodies, no authorisation shall be required.',
                '012.001': '1.The participating Union entities or public sector bodies shall ensure, where the operation of the interoperability regulatory sandbox requires the processing of personal data or otherwise falls under the supervisory remit of other national, regional or local authorities providing or supporting access to data, that national data protection authorities as well as other national, regional or local authorities are associated with the operation of the interoperability regulatory sandbox. As appropriate, participants may allow for the involvement in the interoperability regulatory sandbox of other GovTech actors such as national or European standardisation organisations, notified bodies, research and experimentation labs, innovation hubs, and companies wishing to test innovative interoperability solutions, in particular SMEs and start-ups.',
                '012.002': '2.Participation in the interoperability regulatory sandbox shall be limited to a period appropriate to the complexity and scale of the project, which shall, in any event, not exceed two years from the establishment of the interoperability regulatory sandbox. Participation may be extended by up to one year if necessary to achieve the purpose of the processing.',
                '012.003': '3.Participation in the interoperability regulatory sandbox shall be based on a specific plan elaborated by the participants and taking into account, as applicable, the advice of other national competent authorities or the European Data Protection Supervisor. The plan shall contain at least the following: (a) a description of the participants involved and their roles, the envisaged innovative interoperability solution and its intended purpose, and relevant development, testing and validation process; (b) the specific regulatory issues at stake and the guidance that is expected from the authorities supervising the interoperability regulatory sandbox; (c) the specific arrangements for collaboration between the participants and the authorities, as well as any other actor involved in the interoperability regulatory sandbox; (d) a risk management and monitoring mechanism to identify, prevent and mitigate risks; (e) the key milestones to be completed by the participants for the interoperability solution to be considered ready to put into service; (f) evaluation and reporting requirements and possible follow-up; (g) where it is strictly necessary and proportionate to process personal data, the reasons for such processing, an indication of the categories of personal data concerned, the purposes of the processing for which the personal data are intended, the controllers and processors involved in the processing and their role.',
                '012.004': '4.Participation in the interoperability regulatory sandboxes shall not affect the supervisory and corrective powers of any authorities supervising those sandboxes.',
                '012.005': '5.Participants in the interoperability regulatory sandbox shall remain liable under applicable Union and national law on liability for any damage caused in the course of their participation in the interoperability regulatory sandbox.',
                '012.006': '6.Personal data may be processed in the interoperability regulatory sandbox for purposes other than that for which it has initially been lawfully collected, subject to all of the following conditions: (a) the innovative interoperability solution is developed for safeguarding public interests in the context of a high level of efficiency and quality of public administration and public services; (b) the data processed is limited to what is necessary for the functioning of the interoperability solution to be developed or tested in the interoperability regulatory sandbox, and that functioning cannot be effectively achieved by processing anonymised, synthetic or other non-personal data; (c) there are effective monitoring mechanisms to identify whether any high risk to the rights and freedoms of the data subjects, as referred to in Article35(1) of Regulation (EU)2016/679 and in Article39 of Regulation (EU)2018/1725, may arise during the operation of the interoperability regulatory sandbox, as well as a response mechanism to promptly mitigate that risk and, where necessary, stop the processing; (d) any personal data to be processed are in a functionally separate, isolated and protected data processing environment under the control of the participants and only duly authorised persons have access to that data; (e) any personal data processed are not to be transmitted, transferred or otherwise accessed by other parties that are not participants in the interoperability regulatory sandbox unless such disclosure occurs in accordance with Regulation (EU)2016/679 or, where applicable, Regulation (EU)2018/1725, and all participants have agreed to it; (f) any processing of personal data do not affect the application of the rights of the data subjects as provided for under Union law on the protection of personal data, in particular in Article22 of Regulation (EU)2016/679 and Article24 of Regulation (EU)2018/1725; (g) any personal data processed are protected by means of appropriate technical and organisational measures and erased once the participation in the interoperability regulatory sandbox has terminated or the personal data has reached the end of its retention period; (h) the logs of the processing of personal data are kept for the duration of the participation in the interoperability regulatory sandbox, unless provided otherwise by Union or national law; (i) a complete and detailed description of the process and rationale behind the training, testing and validation of the interoperability solution is kept together with the testing results as part of the technical documentation and transmitted to the Board; (j) a short summary of the interoperability solution to be developed in the interoperability regulatory sandbox, including its objectives and expected results, is made available on the Interoperable Europe portal.',
                '012.007': '7.Paragraph 1 is without prejudice to Union or national law laying down the basis for the processing of personal data which is necessary for the purpose of developing, testing and training of innovative interoperability solutions or any other legal basis, in accordance with Union law on the protection of personal data.',
                '012.008': '8.The participants shall submit periodic reports and a final report to the Board and the Commission on the results from the interoperability regulatory sandboxes, including good practices, lessons learnt, security measures and recommendations on their operation and, where relevant, on the development of this Regulation and other Union law supervised within the interoperability regulatory sandbox. The Board shall issue an opinion to the Commission on the outcome of the interoperability regulatory sandbox, specifying, where applicable, the actions needed to implement new interoperability solutions to promote the cross-border interoperability of trans-European digital public services.',
                '012.009': '9.The Commission shall ensure that information on the interoperability regulatory sandboxes is available on the Interoperable Europe portal.',
                '012.010': '10.By 12April 2025, the Commission shall adopt implementing acts setting out the detailed rules and the conditions for the establishment and the operation of the interoperability regulatory sandboxes, including the eligibility criteria and the procedure for the application for, selection of, participation in and exiting from the interoperability regulatory sandbox and the rights and obligations of the participants. Those implementing acts shall be adopted in accordance with the examination procedure referred to in Article22(2).',
                '013.001': '1.The Commission, assisted by the Board, shall provide training material on the use of the EIF and on Interoperable Europe solutions, including solutions that are free and open source. Union entities and public sector bodies shall provide their staff entrusted with strategical or operational tasks having an impact on trans-European digital public services with appropriate training programmes concerning interoperability issues.',
                '013.002': '2.The Commission shall organise training courses on interoperability issues at Union level to enhance cooperation and the exchange of best practices between the staff of Union entities and public sector bodies, targeting public sector employees in particular at regional and local level. The Commission shall make the training courses publicly accessible online, free of charge.',
                '013.003': '3.The Commission shall promote the development of a certification programme on interoperability matters to promote best practices, human resources qualification and a culture of excellence.',
                '014.001': '1.A voluntary mechanism for peer review shall be established for the purpose of facilitating cooperation between public sector bodies, designed to support them in implementing Interoperable Europe solutions, to support trans-European digital public services and to help them carry out an interoperability assessments pursuant to Article3.',
                '014.002': '2.A peer review shall be conducted by interoperability experts drawn from Member States other than the Member State where the public sector body undergoing the peer review is located.',
                '014.003': '3.Any information obtained through a peer review shall be used solely for the purpose of that peer review. The interoperability experts participating in the peer review shall not disclose any sensitive or confidential information obtained in the course of that peer review to third parties. The Member State concerned shall ensure that any risk of a conflict of interest concerning the designated interoperability experts is communicated to the other Member States and the Commission without undue delay.',
                '014.004': '4.The interoperability experts conducting the peer review shall prepare and present a report within one month of the finalisation of the peer review and submit it to the public sector body concerned and to the Board. The Commission shall publish a report on the Interoperable Europe portal when authorised by the Member State where the public sector body undergoing the peer review is located.',
                '014.005': '5.The Commission may, after consulting the Board, adopt guidelines on the methodology and content of peer review.',
                '015.001': '1.The Interoperable Europe Board (the Board) is hereby established. It shall facilitate strategic cooperation and provide advice on the application of this Regulation.',
                '015.002': '2.The Board shall be composed of one representative from each Member State and from the Commission.',
                '015.003': '3.The Committee of the Regions, the EU Cybersecurity Agency (ENISA) and the European Cybersecurity Competence Centre shall each designate one expert, who shall be invited to participate as observers.',
                '015.004': '4.The Board shall be chaired by the Commission. The Chair may grant observer status in the Board to experts designated by Union entities, regions, organisations and candidate countries. The Chair may invite to participate, on an ad hoc basis, experts with specific competence in a subject on the agenda. The Commission shall provide the secretariat of the Board. The members of the Board shall make every effort to adopt decisions by consensus. In the event of a vote, the outcome of the vote shall be decided by simple majority of the component members. The members who have voted against a proposal or abstained shall have the right to have a document summarising the reasons for their position annexed to the opinions, recommendations or reports.',
                '015.005': '5.The Board shall have the following tasks: (a) to adopt guidelines with regard to the interoperability assessment pursuant to Article3(5) and the common checklist set out in the Annex to this Regulation, and, if necessary, update those guidelines; (b) to analyse the information collected pursuant to Article3(2) and to provide, on that basis, suggestions to improve the cross-border interoperability of trans-European digital public services; (c) to adopt guidelines on sharing the interoperability solutions referred to in Article4; (d) to propose measures to foster the share and reuse of interoperability solutions; (e) to develop the EIF, to update it if necessary and to propose it to the Commission; (f) to support the implementation of the interoperability frameworks of the Member States and of the Union entities and other relevant Union and national policies, strategies or guidelines, including the digital-by-default principle and the interoperability-by-design approach; (g) to assess the alignment of the specialised interoperability frameworks with the EIF and to answer requests for consultation from the Commission on those frameworks; (h) to adopt the Interoperable Europe Agenda referred to in Article19; (i) to recommend Interoperable Europe solutions and to withdraw such recommendations on the basis of agreed criteria; (j) to monitor the overall coherence of the recommended interoperability solutions, at national, regional and local level, including the information on their metadata and categorisation; (k) to propose to the Commission measures to ensure, where appropriate, the compatibility of interoperability solutions with other interoperability solutions that share a common purpose, while supporting, where relevant, the complementarity with or transition to new technologies; (l) to propose that the Commission publish the interoperability solutions referred to in Article8(2) or have those interoperability solutions referred to on the Interoperable Europe portal; (m) to propose to the Commission the setting up of policy implementation support projects, innovation measures and other relevant measures, including funding support; (n) to identify best practices for integrating interoperability solutions in public procurement and tenders; (o) to review reports from innovation measures on the use of the interoperability regulatory sandboxes and on peer review and to propose follow-up measures if necessary; (p) to propose measures to enhance the interoperability capabilities of public sector bodies, such as training; (q) to propose measures to relevant standardisation organisations and bodies to contribute to European standardisation activities, in particular by means of the procedures set out in Regulation (EU) No1025/2012; (r) to propose measures by which to collaborate with international bodies and research and educational institutions that could contribute to the development on interoperability, especially international communities on open source solutions, open standards or technical specifications and other platforms; (s) to coordinate with the European Data Innovation Board referred to in Regulation (EU)2022/868 on interoperability solutions for the common European Data Spaces, as well as with any other Union entity working on interoperability solutions relevant for the public sector; (t) to inform regularly and coordinate with the interoperability coordinators referred to in Article18 and, where relevant, with the Interoperable Europe Community, on matters concerning trans-European digital public services, including relevant Union-funded projects and networks; (u) to provide advice to the Commission on the monitoring of and reporting on the application of this Regulation; (v) to provide to the Commission in a timely manner the necessary input and data required for the effective delivery of the reports in accordance with Article20.',
                '015.006': '6.The Board may set up working groups to examine specific points related to the tasks of the Board. Working groups shall involve members of the Interoperable Europe Community.',
                '015.007': '7.The Board shall adopt its own rules of procedure.',
                '016.001': '1.An Interoperable Europe Community shall, where so requested by the Board, contribute to the activities of the Board by providing expertise and advice.',
                '016.002': '2.Public and private stakeholders as well as civil society organisations and academic contributors residing or having their registered office in a Member State may register on the Interoperable Europe portal as members of the Interoperable Europe Community.',
                '016.003': '3.After confirmation of the registration, membership status shall be made public on the Interoperable Europe portal. Membership shall not be limited in time. It may however be revoked by the Board at any time for proportionate and justified reasons, especially if a member is no longer able to contribute to the Interoperable Europe Community or has abused the status of member of the Interoperable Europe Community.',
                '016.004': '4.The members of the Interoperable Europe Community may be invited, inter alia, to: (a) contribute to the content of the Interoperable Europe portal; (b) provide expertise with regard to the development of interoperability solutions; (c) participate in the working groups and other activities; (d) participate in the support measures provided for in Articles9 to 14; (e) promote the use of interoperability standards and frameworks.',
                '016.005': '5.The Board shall organise an annual online assembly of the Interoperable Europe Community.',
                '016.006': '6.The Board shall adopt the code of conduct for the Interoperable Europe Community. The code of conduct shall be published on the Interoperable Europe portal.',
                '017.001': '1.Each Member State shall designate one or more competent authorities as responsible for the application of this Regulation. Member States shall designate a single point of contact from among their competent authorities.',
                '017.002': '2.The single point of contact shall have the following tasks: (a) to coordinate within the Member State with regard to all questions related to this Regulation; (b) to support public sector bodies within the Member State to set up or adapt the processes by which they carry out interoperability assessments referred to in Article3 and in the Annex; (c) to foster the share and reuse of interoperability solutions through the Interoperable Europe portal or another relevant portal; (d) to contribute country-specific knowledge to the Interoperable Europe portal; (e) to coordinate and encourage the active involvement of a diverse range of national, regional and local entities in policy implementation support projects and innovation measures referred to in Articles9 to 14; (f) to support public sector bodies in the Member State to cooperate with the relevant public sector bodies in other Member States on topics covered by this Regulation.',
                '017.003': '3.Member States shall ensure that the competent authorities have adequate competence and resources to carry out, in an effective and efficient manner, the tasks assigned to them.',
                '017.004': '4.The Member States shall set up the necessary cooperation structures between all national authorities involved in the implementation of this Regulation. Those structures may build on existing mandates and processes in the field.',
                '017.005': '5.Each Member State shall notify to the Commission, without undue delay, the designation of its single point of contact and any subsequent change thereto and shall inform the Commission of other national authorities involved in the oversight of the interoperability policy. Each Member State shall make public the designation of their single point of contact. The Commission shall publish the list of the designated single points of contact.',
                '019.001': '1.After organising a public consultation process through the Interoperable Europe portal that involves, among others, the members of the Interoperable Europe Community and the interoperability coordinators, the Board shall adopt, each year, a strategic agenda by which to plan and coordinate priorities for the development of cross-border interoperability of trans-European digital public services (the Interoperable Europe Agenda). The Interoperable Europe Agenda shall take into account the Unions long-term strategies for digitalisation, existing Union funding programmes and ongoing Union policy implementation.',
                '019.002': '2.The Interoperable Europe Agenda shall contain: (a) a needs assessment for the development of interoperability solutions; (b) a list of ongoing and planned Interoperable Europe support measures; (c) a list of proposed follow-up actions to innovation measures, including actions in support of open source interoperability solutions; (d) an identification of synergies with other relevant Union and national programmes and initiatives; (e) indications of available financial opportunities in support of the priorities included.',
                '019.003': '3.The Interoperable Europe Agenda shall not impose financial obligations or further administrative burdens. After its adoption, the Commission shall publish the Interoperable Europe Agenda on the Interoperable Europe portal and shall provide regular updates on its implementation.',
                '020.001': '1.The Commission shall monitor the progress of the development of trans-European digital public services to support evidence-based policymaking and necessary actions in the Union at national, regional and local level. Monitoring shall give priority to the reuse of existing Union, national and international monitoring data and to automated data collection. The Commission shall consult the Board in the preparation of the methodology, the indicators and the process relating to the monitoring.',
                '020.002': '2.As regards topics of specific interest for the implementation of this Regulation, the Commission shall monitor: (a) progress with regard to the cross-border interoperability of trans-European digital public services in the Union; (b) progress towards the implementation of the EIF by the Member States; (c) the take-up of interoperability solutions for different public services across the Member States; (d) the development of open source interoperability solutions for public services, public sector innovation and cooperation with GovTech actors, including SMEs and start-ups, in the field of cross-border interoperable public services to be delivered or managed electronically in the Union; (e) the enhancement of public sector interoperability skills.',
                '020.003': '3.Monitoring results shall be published by the Commission on the Interoperable Europe portal. Where feasible, they shall be published in a machine-readable format.',
                '020.004': '4.The Commission shall submit and present to the European Parliament and to the Council an annual report on interoperability in the Union. That report shall: (a) set out progress with regard to the cross-border interoperability of trans-European digital public services in the Union; (b) identify significant implementation barriers to as well as drivers of cross-border interoperable public services in the Union; (c) set out the results achieved over time in terms of the implementation of the EIF, the take-up of interoperability solutions, the enhancement of interoperability skills, the development of open source interoperability solutions for public services, and the increase of public sector innovation and cooperation with GovTech actors.',
                '020.005': '5.By 12January 2028 and every four years thereafter, the Commission shall submit to the European Parliament and to the Council a report on the application of this Regulation, which shall include the conclusions of its evaluation. The report shall specifically assess whether there is a need to establish mandatory interoperability solutions.',
                '020.006': '6.The report referred to in paragraph 5 shall assess, in particular: (a) the impact of this Regulation on cross-border interoperability as an enabler for seamless and accessible digital public services in the Union; (b) the increased efficiency, including by the reduction of administrative burdens in online transaction processes resulting from cross-border interoperability, on citizens and businesses, in particular SMEs and startups; (c) the need for any additional policies, measures or actions that are required at Union level.',
                '020.007': '7.Where the timing of the reports referred to in paragraphs 4 and5 coincide, the Commission may combine both reports.',
                '021.001': '1.Subject to the availability of funding, the general budget of the Union shall cover the costs of: (a) the development and maintenance of the Interoperable Europe portal; (b) the development, maintenance and promotion of Interoperable Europe solutions; (c) the Interoperable Europe support measures.',
                '021.002': '2.The costs referred to in paragraph 1 shall be met in a manner that complies with the applicable provisions of the relevant basic act.',
                '022.001': '1.The Commission shall be assisted by a committee. That committee shall be a committee within the meaning of Regulation (EU) No182/2011.',
                '022.002': '2.Where reference is made to this paragraph, Article5 of Regulation (EU) No182/2011 shall apply.',
                '023.001': '1.This Regulation shall enter into force on the twentieth day following that of its publication in the Official Journal of the European Union.',
                '023.002': '2.It shall apply from 12July 2024. However, Article3(1) to (4) and Article17 shall apply from 12January 2025.'
                }
    
        self.assertEqual(self.parser.paragraphs, expected)

    def test_get_body(self):
        return None
        """Test parsing paragraphs when enacting terms are missing."""
        # Simulate a file without enacting terms
        missing_enc_file = os.path.join(DATA_DIR, "missing_enc.html")
        
        with open(missing_enc_file, 'w', encoding='utf-8') as f:
            f.write("<html><body><div class='content'>No enacting terms here.</div></body></html>")

        with self.assertRaises(ValueError) as context:
            self.parser.parse(missing_enc_file, granularity='paragraph')
        
        self.assertIn("No enacting terms found", str(context.exception))
        
        # Clean up
        os.remove(missing_enc_file)

# Run the tests
if __name__ == "__main__":
    unittest.main()
